<div style="margin-top: 80px">

  <mat-card class="max-w-7xl mx-auto" *ngIf="cart.items.length">
    <table mat-table [dataSource]="dataSource" style="width: 100%">
      <ng-container matColumnDef="product">
        <th mat-header-cell *matHeaderCellDef>Hình ảnh</th>
        <td mat-cell *matCellDef="let element">
          <img src="{{ element.product }}" alt="Ảnh sản phẩm" class="w-100 my-5">
        </td>
        <td mat-footer-cell *matFooterCellDef style="padding: 0 8px 0 15px; margin: 5px auto">
          <div class="flex justify-center">
            <button mat-raised-button routerLink="/page/home">Tiếp tục mua hàng</button>
          </div>
        </td>
      </ng-container>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef>Tên sản phẩm</th>
        <td mat-cell *matCellDef="let element">
          <span class="truncate max-w-xs block">{{ element.name }}</span>
        </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="price">
        <th mat-header-cell *matHeaderCellDef>Giá sản phẩm</th>
        <td mat-cell *matCellDef="let element">
          {{ element.price | number }} đồng
        </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="quantity">
        <th mat-header-cell *matHeaderCellDef>Số lượng sản phẩm</th>
        <td mat-cell *matCellDef="let element">
          <div class="flex justify-center align-center">
            <button mat-button-icon class="flex align-center">
              <mat-icon>remove</mat-icon>
            </button>
            &nbsp;
            <span class="fs-16">{{ element.quantity | number }}</span>
            &nbsp;
            <button mat-button-icon class="flex align-center">
              <mat-icon>add</mat-icon>
            </button>
          </div>
        </td>
        <td mat-footer-cell *matFooterCellDef></td>
      </ng-container>

      <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef>Thành tiền</th>
        <td mat-cell *matCellDef="let element">
          {{ getTotal(element) | number }}
        </td>
        <td mat-footer-cell *matFooterCellDef>
          <span class="font-bold py-5 block" style="text-align: center;">
            Tổng tiền: {{ getSumTotal(cart.items) | number}}
          </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>
          <button mat-raised-button color="warn" class="float-right">
            Xóa tất cả
          </button>
        </th>
        <td mat-cell *matCellDef="let element">
          <button mat-mini-fab color="warn" class="float-right">
            <mat-icon>close</mat-icon>
          </button>
        </td>
        <td mat-footer-cell *matFooterCellDef style="padding: 0">
          <button mat-raised-button color="primary" class="float-right">Xử lý thanh toán</button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
    </table>
  </mat-card>


  <mat-card class="max-w-7xl mx-auto" *ngIf="!cart.items.length">
    <p>
      Giỏ hàng của bạn đang trống
      <button mat-raised-button routerLink="/page/home">Bắt đầu mua hàng nào</button>
    </p>
  </mat-card>


</div>
